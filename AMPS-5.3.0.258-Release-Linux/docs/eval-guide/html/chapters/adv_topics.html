<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>5. Advanced Topics &#8212; Advanced Message Processing System (AMPS) Evaluation Guide 5.3.0.255
 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.3.0.255',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="6. Next Steps" href="next_steps.html" />
    <link rel="prev" title="4. State of the World (SOW)" href="sow.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/flag_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">5. Advanced Topics</a><ul>
<li><a class="reference internal" href="#event-logging">Event Logging</a></li>
<li><a class="reference internal" href="#message-record-and-replay">Message Record and Replay</a></li>
<li><a class="reference internal" href="#message-queues">Message Queues</a></li>
<li><a class="reference internal" href="#conflated-topics">Conflated Topics</a></li>
<li><a class="reference internal" href="#view-topics-and-aggregation">View Topics and Aggregation</a></li>
<li><a class="reference internal" href="#historical-sow-query">Historical SOW Query</a></li>
<li><a class="reference internal" href="#utilities">Utilities</a></li>
<li><a class="reference internal" href="#monitoring-interface">Monitoring Interface</a></li>
<li><a class="reference internal" href="#high-availability">High Availability</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="sow.html" title="previous chapter">4. State of the World (SOW)</a></li>
      <li>Next: <a href="next_steps.html" title="next chapter">6. Next Steps</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="advanced-topics">
<h1>5. Advanced Topics<a class="headerlink" href="#advanced-topics" title="Permalink to this headline">¶</a></h1>
<p>While there is much more content beyond the scope of this document, AMPS
provides many of the following additional utilities and guides for you
to learn about the many feature of AMPS.</p>
<div class="section" id="event-logging">
<h2>Event Logging<a class="headerlink" href="#event-logging" title="Permalink to this headline">¶</a></h2>
<p id="index-0">AMPS provides a rich logging framework that supports logging to many
different targets including the console, syslog, and files. Every error
and event message within AMPS is uniquely identified and can be filtered
out or explicitly included in the logger output. The <em>AMPS User Guide</em>
describes the AMPS logger configuration and the unique settings for each
logging target.</p>
</div>
<div class="section" id="message-record-and-replay">
<h2>Message Record and Replay<a class="headerlink" href="#message-record-and-replay" title="Permalink to this headline">¶</a></h2>
<p id="index-1">AMPS supports a fully-queryable transaction log. You can configure the
transaction log to keep a journal of incoming messages for one or more
topics, and then replay those messages, in order, from any point in
time. This capability is often used for historical analysis or
backtesting. In addition, this capability can be used to provide high
availability, ensuring that clients do not miss messages in a message
stream even if the client fails while processing messages.</p>
<p>The AMPS clients provide resumable subscription capability that works
with the transaction log. Using this capability, you can create
applications that ensure that clients never miss a message, even if the
client is shut down and restarted.</p>
</div>
<div class="section" id="message-queues">
<span id="index-2"></span><h2>Message Queues<a class="headerlink" href="#message-queues" title="Permalink to this headline">¶</a></h2>
<p>AMPS includes high performance queuing built on the AMPS messaging
engine and transaction log. AMPS message queues combine elements of
classic message queuing with the advanced messaging features of AMPS,
including content filtering, aggregation and projection, historical
replay, and so on. The <em>Message Queues</em> chapter in the <em>AMPS User Guide</em>
presents an overview of message queues.</p>
<p>AMPS message queues help you easily solve some common messaging
problems:</p>
<ul class="simple">
<li>Ensuring that a message is only processed once</li>
<li>Distributing tasks across workers in a fair manner</li>
<li>Ensuring that a message is delivered to and processed by a worker</li>
<li>Ensuring that when a worker fails to process a message, that message
is redelivered</li>
</ul>
<p>While it&#8217;s possible to create applications with these properties by
using the other features of AMPS, message queues provide these functions
built into the AMPS server. In addition, message queues allow you to:</p>
<ul class="simple">
<li>Replicate messages between AMPS instances while preserving delivery
guarantees</li>
<li>Create views and aggregates based on the current contents of a queue</li>
<li>Filter messages into and out of a queue</li>
<li>Provide a single published message to multiple queues</li>
<li>Aggregate multiple topics into a single queue</li>
</ul>
<p>Use message queues when you need to ensure that a message is processed
by a single consumer. When you need to distribute messages to a number
of consumers, use the AMPS pub/sub delivery model.</p>
<p>The AMPS client libraries, starting in version 5.0, are queue-aware and
contain features to make it easier to work with queues and create the
application behavior that you need. See the <em>Developer Guide</em> for the
client library of your choice for details on how to use these features.</p>
</div>
<div class="section" id="conflated-topics">
<span id="index-3"></span><h2>Conflated Topics<a class="headerlink" href="#conflated-topics" title="Permalink to this headline">¶</a></h2>
<p>To further reduce network bandwidth consumption, AMPS supports a form of
SOW topic called a “conflated topic.” A conflated topic is a copy of one
SOW topic into another with the ability to control the update interval.
Changes to a message that occur between updates are conflated into a
single message that represents the current state of the message.</p>
<p>To better see the value in a conflated topic, imagine a SOW topic called
<code class="docutils literal"><span class="pre">ORDER_STATE</span></code> exists in an AMPS instance. <code class="docutils literal"><span class="pre">ORDER_STATE</span></code> messages are
published frequently to the topic. Meanwhile, there are several
subscribing clients that are watching updates to this topic and
displaying the latest state in a GUI front-end.</p>
<p>If this GUI front-end only needs updates in five second intervals from
the <code class="docutils literal"><span class="pre">ORDER_STATE</span></code> topic, then more frequent updates would be wasteful
of network and client-side processing resources. To reduce network
congestion, a conflating topic replica of the <code class="docutils literal"><span class="pre">ORDER_STATE</span></code> topic can
be created which will contain a copy of <code class="docutils literal"><span class="pre">ORDER_STATE</span></code> updated in five
second intervals. Only the changed records from <code class="docutils literal"><span class="pre">ORDER_STATE</span></code> will be
copied to the conflating replica topic and then sent to the subscribing
clients. Those records with multiple updates within the time interval
will have their latest updated values sent during replication, resulting
in substantial savings in bandwidth for single records with high update
rates.</p>
</div>
<div class="section" id="view-topics-and-aggregation">
<h2>View Topics and Aggregation<a class="headerlink" href="#view-topics-and-aggregation" title="Permalink to this headline">¶</a></h2>
<p id="index-4">AMPS contains a high-performance aggregation engine, which can be used
to project one topic onto another, similar to the <code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">VIEW</span></code>
functionality found in most RDBMS software. Views can JOIN multiple
topics together, including topics with different message types.</p>
</div>
<div class="section" id="historical-sow-query">
<h2>Historical SOW Query<a class="headerlink" href="#historical-sow-query" title="Permalink to this headline">¶</a></h2>
<p>AMPS allows you to configure a SOW topic to retain the historical state
of the SOW, on a configurable granularity.You can then query for the
state of the SOW at a point in time, and retrieve results from the saved
state.</p>
</div>
<div class="section" id="utilities">
<h2>Utilities<a class="headerlink" href="#utilities" title="Permalink to this headline">¶</a></h2>
<p id="index-5">AMPS provides several utilities that are not essential to message
processing, but can be helpful in troubleshooting or tuning an AMPS
instance. The <em>User Guide</em> and <em>Utility Reference</em> describe these
utilities in detail. The utilities include:</p>
<ul class="simple">
<li>A command-line client, <code class="docutils literal"><span class="pre">spark</span></code>, as a useful tool for diagnostics,
such as checking the contents of a SOW topic. The <code class="docutils literal"><span class="pre">spark</span></code> client
can also be used for simple scripting to run queries, place
subscriptions, and publish data.</li>
<li><code class="docutils literal"><span class="pre">ampserr</span></code> is used to expand and examine error messages that may be
observed in the logs. This utility allows a user to input a specific
error code, or a class of error codes, examine the error message in
more detail, and where applicable, view known solutions to similar
issues.</li>
<li><code class="docutils literal"><span class="pre">amps_sow_dump</span></code> is used to inspect the contents of a SOW topic
store.</li>
<li><code class="docutils literal"><span class="pre">amps_journal_dump</span></code> is used to examine the contents of an AMPS
journal file during debugging and program tuning.</li>
</ul>
<p>More information about each of these utilities, including usage and
examples, can be found in the <em>AMPS Utilities User Guide</em>.</p>
</div>
<div class="section" id="monitoring-interface">
<h2>Monitoring Interface<a class="headerlink" href="#monitoring-interface" title="Permalink to this headline">¶</a></h2>
<p id="index-6">AMPS provides a monitoring interface which contains information about
the state of the host system (CPU, memory, disk and network) as well as
statistics about the state of the AMPS instance it is monitoring
(clients, SOW state, Journal State and more). AMPS provides this
information through a RESTful interface for ease of integration into
existing enterprise monitoring systems.</p>
<p>AMPS can also record statistics in a persistent SQLite database, which
can be queried using the standard SQLite toolset.</p>
<p>More information about the monitoring system provided in AMPS can be
found in the <em>AMPS Monitoring Reference Guide</em>. More information about
the statistics database is provided in the <em>Statistics Database
Reference</em>.</p>
</div>
<div class="section" id="high-availability">
<h2>High Availability<a class="headerlink" href="#high-availability" title="Permalink to this headline">¶</a></h2>
<p id="index-7">The <em>High Availability</em> chapter in the <em>AMPS User Guide</em> will showcase
the powerful High Availability features that AMPS provides. This chapter
describes how to use the AMPS transaction log and AMPS replication to
provide failover strategies and high availability guarantees.</p>
</div>
</div>


          </div>
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2019, 60East Technologies, Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>